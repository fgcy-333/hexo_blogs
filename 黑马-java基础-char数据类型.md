---
title: char数据类型
date: 2022-08-28 11:58:45
tags:
- 黑马程序员-徐磊-java基础
categories: 
- 视频学习笔记
index_img: /images/java.png
---

## Java数据类型教程 - Java char数据类型



char数据类型是16位无符号Java基元数据类型。它表示Unicode字符。

请注意，char是无符号数据类型。因此，char变量不能为负值。

字符数据类型的范围为0到65535，这与Unicode集的范围相同。



<!--more-->

## 字符字面量

字符字面量表示char数据类型的值。 Java中的字符字面量可以用以下格式表示：

- 用单引号括起来的字符
- 作为字符转义序列
- 作为Unicode转义序列
- 作为整数的转义序列



1. 字符可以通过用单引号括起来表示。

- 以下代码段使用此形式为char变量赋值：

~~~java
char   c1  = 'A'; 
char   c2  = 'L'; 
char   c3  = '5'; 
char   c4  = '/';
~~~

用双引号括起来的字符序列是一个String字面量。

不能将字符串字面量分配给char变量，即使String字面量只有一个字符。





## 字符转义序列

字符字面量可以表示为字符转义序列。

字符转义序列以反斜杠开头，后面紧跟一个字符，并且都用单引号括起来。

有八个预定义的字符转义序列，如下表所列:

---

![image-20220828120214573](https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208281202820.png)

---



~~~java
char   c1  = "\n"; // 将换行符分配给c2
char   c2  = "\""; // 将双引号分配给c2

//Java中只有八个字符转义序列。我们不能定义你自己的字符转义序列
char   c3  = "\a"; //编译时错误。无效的字符转义序列
~~~





## Unicode

字符字面量可以表示为`“\uxxxx”`形式的Unicode转义序列。

这里，` \u `表示Unicode转义序列的开始，xxxx正好表示四个十六进制数字。由xxxx表示的值是字符的Unicode值。

字符'A'对应的码点为65，十进制65可以用十六进制41表示因此，字符'A'可以用Unicode转义序列表示为`'\u0041'`。

以下代码将相同的字符“A”分配给char变量c1和c2： 

~~~java
char c1  = 'A';
char c2  = '\u0041'; // 与c1='A'相同
~~~





八进制转义序列的范围是`'\000'到'\377'`。

八进制数377与十进制数255相同。因此，使用八进制转义序列，我们可以表示Unicode代码范围从0到255个十进制整数的字符。

Unicode字符集（代码范围0到65535）可以表示为Unicode转义序列（'\uxxxx'）。



当为 **字符变量**分配一个**int字面量**  时，以该整数作为码点找到Unicode字符集中该码点对应的字符。





下面的代码显示了如何使用int字面值97来表示Unicode字符'a'：字符'a'的Unicode代码是97,十进制值97，八进制141，十六进制61。

~~~java
char   c1  = 97;  // Same as  
c1  = 'a'; 
c1  = '\141'; 
c1  = '\u0061';
~~~



举例：

~~~java
public class Main {
  public static void main(String args[]) {
    char ch1, ch2;
    ch1 = 88; // code for X
    ch2 = "Y";
    System.out.print("ch1 and ch2: ");
    System.out.println(ch1 + " " + ch2);
  }
}
~~~

~~~
ch1 and ch2: X Y
~~~



`ch1 `被分配值88，它是对应于字母X的ASCII和Unicode值。ASCII字符集占据Unicode字符集中的前127个值。





例2

char旨在保存Unicode字符，但它也可以用作整数类型，您可以在其上执行算术运算。

例如，您可以将两个字符添加在一起，或者增加一个字符变量的值

~~~java
public class Main {
  public static void main(String args[]) {
    char ch1;

    ch1 = "X";
    System.out.println("ch1 contains " + ch1);

    ch1++; // increment ch1
    System.out.println("ch1 is now " + ch1);
  }
}
~~~

~~~
ch1 contains X
ch1 is now 	Y
~~~



## 字符集和编码规则
我们经常会听到Unicode、UTF-8、UTF-16这些术语，然而，它们是完全不同的概念。Unicode是字符集，UTF-8、UTF-16是编码规则，具体概念如下：

- 字符集：为每一个**「字符」**分配了一个**唯一的 ID**或者编号（称为为码点 Code Point）
- 编码规则：将**「编号」**转换  为**字节序列**的规则



1. #### ASCII字符集&编码

ASCII字符集：即美国信息交换标准码，分为标准ASCII码和扩展ASCII码。



- 标准ASCII：标准ASCII字符集共有128个字符。
- 编码方式：标准ASCII编码是采用7位编码方式，以1个字节存储一个ASCII字符，字节最高位为0，即00000000-01111111或0x00-0x7F。



- 扩展ASCII：由于标准ASCII字符集字符有限，往往无法满足实际需求，因此国际标准组织制定了在与标准ASCII规范相兼容的前提下将ASCII字符集扩充为8位代码的方法。每种扩充ASCII字符集可以扩充128个字符，这些扩充字符的编码均为 **最高位为1** 的**8位代码**。扩充的ASCII字符集即为**扩展ASCII字符集**，编码方式称为扩展ASCII编码。
- 编码方式：常见的一种扩展ASCII为`ISO-8859-1`(也称为Latin-1)编码规范，用于支持部分欧洲语言。





#### GBXXXX字符集&编码

是指中国汉字编码字符集以及后续扩展的一系列规范，包括`GB2312-80`、`GBK`、`GB18030`。



`GB2312-80`：中国国家标准简体中文字符集，包括了6763个常用汉字和682个全角的非汉字字符。

- 编码方式：GB2312编码**采用双字节编码**，其中汉字的区码和位码各占一个字节，每个汉字占两个字节的存储空间。由于区码和位码的取值范围都为1—94

  如果直接将其值作为存储值，会导致与ASCII码冲突，实际存储时将区码和位码分别加上0xA0的方式转换为存储码（也称为内码）。

  比如，汉字“啊”，区位码为1601（0x1001），其存储码为0xB0A1，0xB0 = 0x10+0xA0，0xA1 = 0x01 + 0xA1。编码范围：0xA1A1~0xFEFE。



`GBK`：全称为《汉字内码扩展规范》。GBK兼容GB2312内码，是对GB2312内码的扩展，共收录了21003个汉字，883个字符，包含了简体、繁体中文以及日语、朝鲜语中的汉字。

- 编码方式：GBK编码方式采用**双字节编码**，占用两个字节的存储空间，编码范围是0x8140~0xFEFE，不包括xx7F编码。windows对应代码页是CP936。





`GB18030`：全称为《信息技术中文编码字符集》。GB18030**完全兼容GB2312-80内码**，**基本兼容GBK内码**，是目前最新的中国国家编码字符集标准，共收录了70244个字符，增加了对CJK统一汉字扩充A、CJK统一汉字扩充B以及少数民族文字等字符的支持。windows对应的代码页为CP54936。

- 编码方式：GB18030编码**采用  变长**    **多字节**  编码方式，包括1字节、2字节或4字节编码。

  单字节编码与ASCII码相同，双字节编码与GBK编码相同并增加了一些扩展，四字节用于扩充汉字的编码

  第一、三字节的编码范围为：0x81—0xFE

  第二、四字节的编码范围为：0x30—0x39。









## Unicode字符集&编码

Unicode字符集是为了统一所有语言的文字和符号而制定的编码字符集。

编码方式包括：`UTF-8`、`UTF-16`和`UTF-32`。



- UTF-8编码：

  UTF-8编码是针对Unicode字符集的**可变长度字符编码**。UTF-8兼容ASCII字符编码，对于ASCII字符只占一个字节

  对于其他字符占用多个字节，其第一个字节从最高位开始，打头连续的二进制位为1的个数决定了  **编码占用的字节数**，其余字节均以10开头，最多可占用6个字节。

---

![image-20220828150157278](https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208281502002.png)

----



UTF-8中可以用来  **表示字符编码**  的  **实际位数  最多  为31位**，即上表中x的个数；除去控制位剩余的x表示的位与Unicode中的码值是一一对应的，顺序也是一致的。

UTF-8带BOM与不带BOM：

UTF-8是与字节序无关的，UTF-8可以带BOM也可以不带BOM，UTF-8带BOM是在字节流前边增加3个字节（0xEFBBBF）的前缀，**用来说明编码格式为UTF-8**。UTF-8不带BOM才是**标准形式**，带BOM是微软的习惯，在其他操作系统中一般都是采用不带BOM的形式。



- UTF-16编码：

  针对Unicode字符集的编码方式，采用**2字节或4字节长度编码**
  UTF-16与UCS-2编码在存储和传输时会有两种不同的字节序，即big endian(大端)和litte endian(小端)。

  大端序是高字节在前低字节在后，小端序是低字节在前高字节在后，比如汉字“啊”(U+554A)，大端序为0x554A，小端序为0x4A55。
  为了说明字节流的顺序，需要在字节流前加上BOM(字节序标记)，0xFEFF表示大端序，0xFFFE表示小端序。
  对应的编码名称有：UCS-2BE、UCS-2LE、UCS-2、UTF-16BE、UTF-16LE、UTF-16。
  Unicode字符集和UCS字符集（通用字符集）的编码表是相互兼容的，即每个字符在字符集中的位置（码位）是一致的。





#### ANSI编码

 ANSI编码是指系统默认的编码方式，Windows可以在命令窗口中通过chcp指令查看系统默认编码。

- **简体中文系统**：ANSI编码为`GBK`或`GB2312`。
- **英文系统**：ANSI编码为`ASCII码`。
- **繁体中文系统**：ANSI编码为`BIG-5`。





总结：

---

![image-20220828151430374](https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208281514346.png)

---

































































































































































